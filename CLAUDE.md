# CLAUDE.md - Описание проекта HouseBoat Dashboard

## Обзор проекта

**HouseBoat Dashboard** — это современный веб-интерфейс для управления яхтой или хаусботом. Приложение представляет собой интерактивную панель управления с премиальным дизайном в морском стиле, вдохновлённым интерфейсами Mercedes-Benz.

## Технологический стек

| Технология | Версия | Назначение |
|------------|--------|------------|
| React | 18.2.0 | UI фреймворк |
| ReactDOM | 18.2.0 | Рендеринг React |
| Framer Motion | 10.16.4 | Анимации и переходы |
| esbuild | latest | Сборка бандла |
| CSS-in-JS | — | Inline стили |

## Структура проекта

```
HouseBoat/
├── index.html           # Главная страница (CDN версия)
├── yacht-dashboard.jsx  # Исходный React компонент (~128KB)
├── entry.jsx            # Точка входа для сборки
├── bundle.js            # Собранный бандл (~1.4MB)
├── docs/                # GitHub Pages
│   ├── index.html       # Страница для Pages
│   └── bundle.js        # Копия бандла
├── package.json         # npm зависимости
├── README.md            # Документация
├── LICENSE              # MIT лицензия
├── final-preview.png    # Скриншот интерфейса
└── fullpage.png         # Полный скриншот
```

## Архитектура приложения

### Основные компоненты

1. **YachtDashboard** — главный компонент приложения
2. **EngineCard** — тахометр двигателя с анимированной стрелкой
3. **RudderGauge** — индикатор угла руля
4. **TopMetric** — метрики верхней панели (батарея, топливо)
5. **Card** — универсальная карточка с glass morphism эффектом

### Функциональные блоки

| Блок | Описание |
|------|----------|
| Камеры | 4 видеопотока: нос, корма, левый/правый борт |
| Навигация | Компас, карта с маршрутом, GPS координаты |
| Двигатели | Два тахометра с показателями RPM, газ, передача |
| Топливо | 3 бака с уровнями и расходом |
| Электрика | Напряжение батареи, потребление |
| Погода | Температура воды, ветер, давление |
| Управление | Питание, огни, подрулька, якорь, генератор |

### Состояние приложения (State)

```javascript
// Основные состояния в YachtDashboard
loadingPhase     // 'logo' | 'transition' | 'done'
speed            // Скорость в узлах (18.4)
heading          // Курс в градусах (42)
rpmLeft/Right    // Обороты двигателей (2350/2410)
throttleLeft/Right // Газ в % (62/64)
fuelPct          // Уровень топлива (68%)
batteryV         // Напряжение батареи (24.7V)
rudderDeg        // Угол руля (-6°)
controls         // Состояние переключателей
anchorPosition   // Позиция якоря (0-100%)
```

## Дизайн-система

### Цветовая палитра (объект T)

```javascript
T.pageBg       // Фон страницы (радиальный градиент)
T.cardBg       // Фон карточек
T.textPrimary  // #e8f4ff — основной текст
T.textSecondary // #7a95a8 — вторичный текст
T.textGreen    // #3dc88c — позитивные значения
T.textAmber    // #e8a030 — предупреждения
T.textRed      // #e04050 — ошибки/критичное
T.gaugeActive  // #3dc88c — активные индикаторы
T.gaugeRed     // #e04050 — красная зона тахометра
```

### Визуальные эффекты

- **Glass morphism** — полупрозрачные карточки с размытием
- **Градиенты** — металлические блики на элементах
- **Тени** — многослойные для глубины
- **Анимации** — spring physics через Framer Motion

## Сборка и запуск

### Локальная разработка

```bash
# Установка зависимостей
npm install

# Сборка бандла
npx esbuild entry.jsx --bundle --outfile=bundle.js

# Запуск локального сервера
npx serve .
```

### GitHub Pages

Страница размещается из папки `/docs` ветки `main`:
- **URL**: https://embed-solutions-dev.github.io/HouseBoat/

### CDN версия

`index.html` загружает библиотеки с unpkg.com и использует Babel для трансформации JSX в браузере. Подходит для быстрого просмотра, но требует интернет-соединения.

## Особенности реализации

### Тахометры двигателей

- SVG-дуги для шкалы с делениями
- Красная зона при >80% от максимума
- Анимированная стрелка с spring physics
- Металлическая текстура центральной втулки

### Анимация загрузки

1. Показ логотипа (2.8 сек)
2. Переход fade-out (0.6 сек)
3. Появление dashboard

### Модальные окна

- Детали двигателя (ошибки, параметры)
- Управление якорем (глубина, кнопки вверх/вниз)
- Расширенные секции (топливо, погода, электрика)

## Интернационализация

Интерфейс на русском языке. Текстовые константы находятся непосредственно в JSX. Для локализации замените строки в `yacht-dashboard.jsx`.

## Известные ограничения

1. Данные статичные (демо-режим), нет реального подключения к системам судна
2. Видеопотоки камер — заглушки
3. Карта — SVG анимация, не настоящая навигация

## Дальнейшее развитие

Возможные улучшения:
- WebSocket подключение к реальным датчикам
- Интеграция с картографическими API
- PWA для оффлайн-работы
- Адаптация под разные типы судов
